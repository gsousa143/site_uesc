{%extends "base.html"%}
{%block titulo%}
Login
{%endblock titulo%}

{%block main%}

{% if user.is_authenticated %}

<div class="card m-8">
    <div class="card-body">
        <form method="post" action="{% url 'editarusuario' user.id%}" class="d-flex flex-column align-content-around m-2 gap-2">
            {% csrf_token %}

            <p><strong>Usu√°rio:</strong></p>
            <input type="text" readonly class="form-control-plaintext my-2" value="{{user.username}}">

            <p><strong>Nome:</strong></p>
            <div class="d-flex flex-row">            
            <input type="text" readonly class="form-control-plaintext my-2" value="{{user.first_name }}">
            <input type="text" readonly class="form-control-plaintext my-2" value="{{user.last_name }}"> 
        </div>

            <p><strong>Email:</strong></p>
            <input type="text" readonly class="form-control-plaintext my-2" value="{{user.email}}">
            <div class="d-flex justify-content-around">
                <a class="btn btn-danger px-5 py-2" href="{% url 'logout' %}">Deslogar</a>
                {% if not user.is_superuser %}
                    <a class="btn btn-danger px-5 py-2" href="{% url 'remover' user.id %}">Remover Conta</a>
                {% endif %}
            </div>
        </form>
    </div>
</div>
<div class="card m-8">
    <div class="card-header]">
        <h4 class="text-center">
            Editar Perfil
        </h4>
    </div>
    <div class="card-body">
        <form method="post" action="{% url 'editarusuario' user.id %}" class="d-flex flex-column align-content-around m-2 gap-2">
            {% csrf_token %}
            {{form_cadastro}}
            <button type="submit" class="btn btn-primary px-5 py-2">Editar Perfil</button>
        </form>
    </div>
</div>

{% else %}

<div class="card m-8">
    <div class="card-header text-center">
        <h2>Login</h2>
    </div>
    <div class="card-body">
        <form method="post" action="{% url 'login' %}" class="d-flex flex-column align-content-around m-2 gap-2">
            {% csrf_token %}
            {{form_login.username}}
            {{form_login.password}}
            <div class="d-flex justify-content-around">
                <button type="submit" class="btn btn-primary px-5 py-2">Logar</button>
                <a class="btn btn-secondary px-5 py-2" href="{%url 'cadastro'%}"> Registre-se</a>
            </div>
        </form>
    </div>
</div>
{%endif%}


{% endblock main%}